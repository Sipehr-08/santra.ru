(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{380:function(e,t,r){e.exports=r.p+"img/your_logo.819ad65.png"},381:function(e,t,r){e.exports=r.p+"img/black-mini.d217587.jpg"},396:function(e,t,r){e.exports=r.p+"img/constructorImg.0bed589.jpg"},397:function(e,t,r){"use strict";r.r(t);r(224);var o=r(43),c=r.n(o),n={components:{TheMask:r(86).TheMask},data:function(){return{personalName:"",personalPhone:"",personalMessage:"",priceActive:0,customActive:1,stringActive:0,suedeActive:0,edgingActive:0,personal:"",message:"",isLoaded:!1,isPersonalSuccess:!1,logo:""}},computed:{calculatePrice:function(){return 1==this.customActive?this.personal.type[this.priceActive].price:this.personal.type[this.priceActive].price-2e3}},methods:{uploadFile:function(e){this.logo=e.target.files[0],alert("Фото успешно загружено(-ы)!")},personalOrderSend:function(){var e=new FormData;e.append("type",this.personal.type[this.priceActive].id||0),e.append("suede",this.personal.suede[this.suedeActive].id||0),e.append("string",this.personal.string[this.stringActive].id||0),e.append("edging",this.personal.edging[this.edgingActive].id||0),e.append("name",this.personalName),e.append("number",this.personalPhone),e.append("comment",this.personalMessage),e.append("price",this.calculatePrice),1!=this.customActive||this.logo?(1==this.customActive&&this.logo&&e.append("image",this.logo),c.a.post("https://project.a-lux.dev/api/inapplication",e,{headers:{"Content-Type":"multipart/form-data"}}).then(this.isPersonalSuccess=!0)):alert("Выберите логотип!")}},watch:{customActive:function(){1===Number(this.customActive)?(this.wholePrice=Number(this.personal.type[this.priceActive].price),this.isLoaded=!1):(this.wholePrice=this.personal.type[this.priceActive].price-2e3,this.isLoaded=!1)},priceActive:function(){1===Number(this.customActive)?this.wholePrice=Number(this.personal.type[this.priceActive].price):this.wholePrice=this.personal.type[this.priceActive].price-2e3},personalPhone:function(e,t){8==e&&(this.personalPhone="7"),9==e&&(this.personalPhone="79")}},mounted:function(){var e=this;this.isLoaded=!0,c.a.get("https://project.a-lux.dev/api/index?page=".concat(1)).then((function(t){e.personal=t.data.create}))}},l=r(9),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.personal?o("div",{staticClass:"fourth_block",attrs:{id:"fourth_block"}},[o("div",{staticClass:"cantra_content"},[o("h2",{staticClass:"h2-text"},[e._v("\n      Создайте индивидуальный дизайн для себя или в подарок близким\n    ")]),e._v(" "),o("div",{staticClass:"mobile"},[0!==e.suedeActive?o("div",{staticClass:"personal__items-right onMobile"},[o("img",{staticClass:"layer1",attrs:{src:e.personal.type[e.priceActive].image}}),e._v(" "),o("img",{staticClass:"layer2",attrs:{src:e.personal.suede[e.suedeActive].image}}),e._v(" "),o("img",{staticClass:"layer3",attrs:{src:e.personal.string[e.stringActive].image}}),e._v(" "),o("img",{staticClass:"layer4",attrs:{src:e.personal.edging[e.edgingActive].image}})]):e._e()]),e._v(" "),o("form",{staticClass:"personal",on:{submit:function(t){return t.preventDefault(),e.personalOrderSend()}}},[o("div",{staticClass:"personal__size"},e._l(e.personal.type,(function(t,r){return o("div",{key:t.id,staticClass:"personal__size-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.priceActive,expression:"priceActive"}],attrs:{type:"radio",id:"checkbox"+t.id},domProps:{value:r,checked:e._q(e.priceActive,r)},on:{change:[function(t){e.priceActive=r},function(t){e.wholePrice=e.personal.type[e.priceActive].price}]}}),e._v(" "),o("label",{attrs:{for:"checkbox"+t.id}},[e._v(e._s(t.title))])])})),0),e._v(" "),o("div",{staticClass:"personal__items"},[o("div",{staticClass:"personal__items-left"},[o("div",{staticClass:"personal__colors"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.suedeActive,expression:"suedeActive"}],staticClass:"material_type",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.suedeActive=t.target.multiple?r:r[0]}}},[o("option",{attrs:{value:"0"}},[e._v("Цвет замши")]),e._v(" "),e._l(e.personal.suede,(function(t,r){return o("option",{key:t.id,domProps:{value:r}},[e._v("\n                "+e._s(t.name)+"\n              ")])}))],2),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.stringActive,expression:"stringActive"}],staticClass:"material_type",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.stringActive=t.target.multiple?r:r[0]}}},[o("option",{attrs:{value:"0"}},[e._v("Цвет строчки")]),e._v(" "),e._l(e.personal.string,(function(t,r){return o("option",{key:t.id,domProps:{value:r}},[e._v("\n                "+e._s(t.name)+"\n              ")])}))],2),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.edgingActive,expression:"edgingActive"}],staticClass:"material_type",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.edgingActive=t.target.multiple?r:r[0]}}},[o("option",{attrs:{value:"0"}},[e._v("Цвет окантовки")]),e._v(" "),e._l(e.personal.edging,(function(t,r){return o("option",{key:t.id,domProps:{value:r}},[e._v("\n                "+e._s(t.color)+"\n              ")])}))],2)]),e._v(" "),o("div",{staticClass:"personal__logo"},[o("div",{staticClass:"personal__logo-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.customActive,expression:"customActive"}],attrs:{type:"radio",value:"0",id:"withoutLogo"},domProps:{checked:e._q(e.customActive,"0")},on:{change:function(t){e.customActive="0"}}}),e._v(" "),o("label",{attrs:{for:"withoutLogo"}},[e._v("Без логотипа")])]),e._v(" "),o("div",{staticClass:"personal__logo-withFile"},[o("div",{staticClass:"personal__logo-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.customActive,expression:"customActive"}],attrs:{type:"radio",value:"1",id:"withLogo"},domProps:{checked:e._q(e.customActive,"1")},on:{change:function(t){e.customActive="1"}}}),e._v(" "),o("label",{attrs:{for:"withLogo"}},[e._v("С логотипом")])]),e._v(" "),e.customActive?o("label",{staticClass:"file"},[o("div",{staticClass:"file-text"},[e._v("Выберите файл...")]),e._v(" "),o("input",{staticClass:"file",attrs:{type:"file"},on:{change:e.uploadFile}})]):e._e()])]),e._v(" "),o("div",{staticClass:"personal__inputs"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.personalName,expression:"personalName"}],staticClass:"personal__inputs-small",attrs:{placeholder:"Ваше имя",required:""},domProps:{value:e.personalName},on:{input:function(t){t.target.composing||(e.personalName=t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.personalPhone,expression:"personalPhone"}],ref:"phone",staticClass:"personal__inputs-small",attrs:{type:"text",id:"recall-name",placeholder:"Ваш номер",required:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57 && /^\\d{0,10}$/.test(this.value));"},domProps:{value:e.personalPhone},on:{input:function(t){t.target.composing||(e.personalPhone=t.target.value)}}}),e._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.personalMessage,expression:"personalMessage"}],staticClass:"personal__inputs-big",attrs:{placeholder:"Ваш комментарий..."},domProps:{value:e.personalMessage},on:{input:function(t){t.target.composing||(e.personalMessage=t.target.value)}}})]),e._v(" "),e._m(0),e._v(" "),e.personal?o("h2",{staticClass:"personal__price showInMobile"},[e._v("\n            От "+e._s(e.calculatePrice)+" рублей\n          ")]):e._e(),e._v(" "),o("div",{staticClass:"personal__submit"},[o("input",{staticClass:"personal__submit-button",class:{success:e.isPersonalSuccess},attrs:{type:"submit"},domProps:{value:e.isPersonalSuccess?"Заказ отправлен":"Отправить заказ"}}),e._v(" "),e._m(1),e._v(" "),e.isPersonalSuccess?o("div",{staticClass:"personal--success"},[o("div",{on:{click:function(t){e.isPersonalSuccess=!1}}},[e._v("Продолжить покупки")])]):e._e()]),e._v(" "),e.personal?o("h2",{staticClass:"personal__price showInDesktop"},[e._v("\n            От "+e._s(e.calculatePrice)+" рублей\n          ")]):e._e()]),e._v(" "),o("div",{staticClass:"personal__size is-mobile-flex"},e._l(e.personal.type,(function(t,r){return o("div",{key:t.id,staticClass:"personal__size-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.priceActive,expression:"priceActive"}],attrs:{type:"radio",id:"checkbox"+t.id},domProps:{value:r,checked:e._q(e.priceActive,r)},on:{change:[function(t){e.priceActive=r},function(t){e.wholePrice=e.personal.type[e.priceActive].price}]}}),e._v(" "),o("label",{attrs:{for:"checkbox"+t.id}},[e._v(e._s(t.title))])])})),0),e._v(" "),e.isLoaded&&0==e.suedeActive&&0==e.stringActive&&0==e.edgingActive?o("div",{staticClass:"personal__price construct-images relative"},[o("img",{staticClass:"layer4",attrs:{src:r(396),alt:""}})]):0!==e.suedeActive||0!==e.stringActive||0!==e.edgingActive?o("div",{staticClass:"personal__items-right onDesktop construct-images relative"},[o("img",{staticClass:"layer1",attrs:{src:e.personal.type[e.priceActive].image}}),e._v(" "),o("img",{staticClass:"layer2",attrs:{src:e.personal.suede[e.suedeActive].image}}),e._v(" "),o("img",{staticClass:"layer3",attrs:{src:e.personal.string[e.stringActive].image}}),e._v(" "),o("img",{staticClass:"layer4",attrs:{src:e.personal.edging[e.edgingActive].image}}),e._v(" "),1==e.customActive?o("img",{staticClass:"your_logo",attrs:{src:r(380),alt:""}}):e._e()]):o("div",{staticClass:"personal__price construct-images"},[0==e.customActive?o("img",{staticClass:"layer4",attrs:{src:r(381),alt:""}}):1==e.customActive?o("div",[o("img",{staticClass:"layer4",attrs:{src:r(381),alt:""}}),e._v(" "),o("img",{staticClass:"your_logo",attrs:{src:r(380),alt:""}})]):e._e()])])])])]):e._e()}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"personal__ps"},[e._v("\n            *Индивидуальный заказ выполняется по 50% предоплате."),r("br"),e._v("\n            Сроки изготовления - 1.5-2 недели."),r("br"),e._v("\n            Точную сумму и детали оплаты Вам сообщит оператор.\n          ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input policy_customorder"},[r("input",{attrs:{type:"checkbox",id:"policy_customorder",name:"policy_customorder",checked:""}}),e._v(" "),r("label",{staticClass:"tick_label_customorder",attrs:{for:"policy_customorder"}},[r("div",{staticClass:"tick_customorder"})]),e._v(" "),r("span",{staticClass:"policy_text_customorder"},[e._v("Я согласен(-а) с\n                "),r("a",{attrs:{href:"/policy",target:"_blank"}},[e._v("политикой обработки персональных данных")])])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{Input:r(145).default})}}]);