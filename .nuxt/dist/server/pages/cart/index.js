exports.ids = [16];
exports.modules = {

/***/ 110:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(143);
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(4).default
module.exports.__inject__ = function (context) {
  add("5a087f9a", content, true, context)
};

/***/ }),

/***/ 138:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFElEQVR42q1UyWobQRDVyFeThIDJDwSsQ2yDjR2f8gcxvueQL9F+0II2tKBdOkY5aQGB9g2toE/QR9hEsRlJo069oWVkz4wlggce9bqqpvpVTU/rLBaL7i2gcJjN5g3XE4Qt6F/E1QttJRyAm0wmBXjOgVpBhRqj0aiz2WyHbrf72uVynRMuYGn91W63v0NcTdWzIpT4kV765vf7fyQSib+xWGwRj8dFWFo/BAKBn4hT3pGWIgE7UdJZOp1e00uMCjA1S3FGeVfI57NTKqKW3lPSpdPpvOBtPQP3X1LeB80Z8daOvF7vLeE74cbj8dz4fD7ZYs39t5T3aVdrX9BCMBhk0WhURigUeuLw07zQ2vmu1o4LhcL9bDZbVSqVRT6fX4EXi8VVuVxegJdKpTkpOsFxUFXEixna7fac0TOdTqVWqwXKut0uG41GEniv13uk3FPemkKRwAOGRqMxlySJjcdjqV6vM3AU7Pf7Ejht9Gi1Wk+5IkFVEQo1m01Z0WQykaiorIheZoPBQFbU6XTkQnspWq/XT4rAN4rA91KEGe2j6LUZbf6f41qtdieK4nI4HIrVanUJTgWXNGQRnDb6Q4q0vxoCDofDkEwmWSaTYbD4JbLZrMw3/lQqxSjvTKs1HS/0ORKJ5Ojg/QqHw0CODmQOFmv4Kf4bG2op0rywtLDzPiLgC+q3rP7FWnj1PnrzO/t/8Q8nowyLkISEPQAAAABJRU5ErkJggg=="

/***/ }),

/***/ 139:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/cash.6e619ca.png";

/***/ }),

/***/ 140:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/cards.a8ced20.png";

/***/ }),

/***/ 141:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/paypal.74dbc06.png";

/***/ }),

/***/ 142:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3760c2aa_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(110);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3760c2aa_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3760c2aa_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3760c2aa_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3760c2aa_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ 143:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.i, "td.mob_cart{padding:0!important}.input-group.btn-block{position:relative;right:59px}.forms{max-width:900px!important;width:100%}.forms__biginput-input{font-size:15px;height:150px;padding:10px;width:85%}.forms__titles{display:flex;margin-bottom:30px;margin-top:40px;width:100%}.forms__titles-title{color:#090909;font-size:20px;font-weight:900;margin:0!important;width:100%}.forms__inputs{display:flex;width:100%}.forms__inputs__left,.forms__inputs__right{width:100%}.forms__inputs__block{margin-top:8px}.forms__inputs__block-checkboxes{align-items:flex-end;display:flex;height:60px;margin-bottom:16px;max-width:316px}.forms__inputs__block-checkbox{align-items:center;display:flex;width:100%}.forms__inputs__block-checkbox input{clip:rect(0 0 0 0);height:1px;overflow:hidden;position:absolute;width:1px}.forms__inputs__block-checkbox input:checked+label:before{color:red;content:\"•\"}.forms__inputs__block-checkbox label{align-items:center;cursor:pointer;display:flex;font-size:15px}.forms__inputs__block-checkbox label:before{background:#f5f5f5;border:1px solid rgba(0,0,0,.5);border-radius:50%;content:\"\";display:block;flex-shrink:0;font-size:27px;height:26px;line-height:19px;margin-right:10px;text-align:center;width:26px}.forms__inputs__block-title{font-size:15px;margin:0 0 8px}.forms__inputs__block-title>.required{color:red;font-weight:700;margin-right:5px}.forms__inputs__block-input{background-color:#fff;border:1px solid #bdbdbd;border-radius:3px;box-shadow:none;font-size:15px;height:40px;max-width:316px;padding-left:15px;width:100%}.on_prod_link{display:flex}@media(max-width:768px){.price_format{vertical-align:bottom!important}}.panel-heading{font-size:20px;font-weight:900}.custom_textarea{height:100px!important;max-width:800px;width:100%}.payment__inputs{display:flex;margin-top:20px;max-width:1000px}.payment__input{align-items:center;display:flex;width:100%}.payment__input input{clip:rect(0 0 0 0);height:1px;overflow:hidden;position:absolute;width:1px}.payment__input input:checked+label:before{color:red;content:\"•\"}.payment__input label{align-items:flex-start;cursor:pointer;display:flex;font-size:15px}.payment__input label:before{background:#f5f5f5;border:1px solid rgba(0,0,0,.5);border-radius:50%;content:\"\";display:block;flex-shrink:0;font-size:27px;height:26px;line-height:19px;margin-right:10px;margin-top:15px;text-align:center;width:26px}.payment__input-text{max-width:120px}.payment__input-name p{color:#292929;font-size:15px;font-weight:700}.img_posit img{width:100%}.mob_cart_hide-bin{align-items:center;cursor:pointer;display:flex;height:100%;justify-content:center;width:100%}.header__error{margin:30px 0;min-height:300px}@media(max-width:768px){.mob_cart-bin{left:0;margin-right:20px;position:absolute}.transform_mob{padding-left:20px}.forms__inputs{flex-flow:column;text-align:center}.forms__biginput{margin:auto;max-width:310px}.forms__biginput-input{height:75px;width:100%}.payment{margin:auto;max-width:310px}.payment__input{width:50%}.payment__inputs{flex-flow:wrap}.form__agreement{text-align:center}.forms__inputs__block-checkboxes{margin:auto}}", ""]);
// Exports
___CSS_LOADER_EXPORT___.locals = {};
module.exports = ___CSS_LOADER_EXPORT___;


/***/ }),

/***/ 198:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/cart/index.vue?vue&type=template&id=3760c2aa&
var render = function render() {
  var _vm = this,
    _c = _vm._self._c,
    _setup = _vm._self._setupProxy;
  return _c('div', {
    staticClass: "container"
  }, [_vm._ssrNode("<h1 class=\"header_cart\">Оформление заказа</h1> "), _vm.cartEmpty ? _vm._ssrNode("<p class=\"header__error\">", "</p>", [_vm._ssrNode("\n    В корзине пока ничего нет.\n    "), _c('nuxt-link', {
    attrs: {
      "to": "/catalog/"
    }
  }, [_vm._v("Выберите накидки")])], 2) : _vm._e(), _vm._ssrNode(" "), _c('nuxt-link', {
    staticClass: "continue_shopping",
    attrs: {
      "to": "/catalog/",
      "href": "/"
    }
  }, [_vm._v("Продолжить покупки")]), _vm._ssrNode(" "), !_vm.cartEmpty ? _vm._ssrNode("<div class=\"row\">", "</div>", [_vm._ssrNode("<table class=\"table_design table table-bordered\" style=\"border: none\">", "</table>", [_vm._ssrNode("<thead class=\"mob_cart_hide\" style=\"border: none\"><tr><td class=\"text-left mob_cart_hide\"></td> <td class=\"text-left\">Товар</td> <td class=\"text-left\" style=\"width: 100px\">Кол-во</td> <td class=\"text-left\" style=\"width: 110px\">Цена</td> <td class=\"mob_cart_hide\">Убрать</td></tr></thead> "), _vm._ssrNode("<tbody style=\"border: none\">", "</tbody>", _vm._l(_vm.sorted, function (item, index) {
    return _vm._ssrNode("<tr>", "</tr>", [_vm._ssrNode("<td class=\"text-center img_posit mob_cart_hide\" style=\"border: none\"><img" + _vm._ssrAttr("src", item.image) + "></td> "), _vm._ssrNode("<td class=\"text-left mob_name_prod\">", "</td>", [_vm._ssrNode("<div class=\"transform_mob\">", "</div>", [_c('nuxt-link', {
      staticClass: "on_prod_link",
      attrs: {
        "to": '/cantra-products/' + item.slug
      }
    }, [_c('div', {
      domProps: {
        "innerHTML": _vm._s(item.name)
      }
    })]), _vm._ssrNode(" " + (!item.spechial ? "<p>" + _vm._ssrEscape("Цвета накидок: " + _vm._s(item.selectedColorName)) + "</p>" : "<!---->"))], 2)]), _vm._ssrNode(" <td class=\"text-left mob_prod_quantity\"><div class=\"input-group btn-block\" style=\"max-width: 200px; display: flex\"><button class=\"minus\">-</button> <span class=\"form-control product_quantity\">" + _vm._ssrEscape(_vm._s(item.ammount)) + "</span> <button class=\"plus\">+</button></div></td> " + (!item.procent && item.spechial == null ? "<td class=\"text-left price_format\">" + _vm._ssrEscape("\n            " + _vm._s(Number(item.colors[item.colors.indexOf(item.colors.find(obj => {
      return obj.id === item.selectedColor;
    }))].price - item.colorDiscount) * Number(item.ammount) || Number(item.discount) * Number(item.ammount) || Number(item.price) * Number(item.ammount)) + "\n            р.\n          ") + "</td>" : item.spechial == 1 ? "<td class=\"text-left price_format\">" + _vm._ssrEscape("\n            " + _vm._s(item.price * item.ammount) + "\n            р.\n          ") + "</td>" : "<td class=\"text-left price_format\">" + _vm._ssrEscape("\n            " + _vm._s(item.price * item.ammount) + "\n            ") + "\n            р.\n          </td>") + " <td class=\"mob_cart\"><div class=\"mob_cart-bin\"><img" + _vm._ssrAttr("src", __webpack_require__(138)) + "></div></td>")], 2);
  }), 0)], 2)]) : _vm._e(), _vm._ssrNode(" " + (!_vm.cartEmpty ? "<form><div class=\"forms\"><div class=\"forms__titles\"><h1 class=\"forms__titles-title\">Клиент</h1> <h1 class=\"forms__titles-title\">Доставка или самовывоз</h1></div> <div class=\"forms__inputs\"><div class=\"forms__inputs__left\"><div class=\"forms__inputs__block\"><h1 class=\"forms__inputs__block-title\"><span class=\"required\">*</span>Ф.И.О.\n            </h1> <input type=\"text\" minlength=\"10\" required=\"required\"" + _vm._ssrAttr("value", _vm.name) + " class=\"forms__inputs__block-input\"></div> <div class=\"forms__inputs__block\"><h1 class=\"forms__inputs__block-title\"><span class=\"required\">*</span>Телефон\n            </h1> <input type=\"text\" minlength=\"11\" required=\"required\" onkeypress=\"return (event.charCode >= 48 && event.charCode <= 57 && /^\\d{0,10}$/.test(this.value));\"" + _vm._ssrAttr("value", _vm.phone) + " class=\"forms__inputs__block-input\"></div> <div class=\"forms__inputs__block\"><h1 class=\"forms__inputs__block-title\"><span class=\"required\">*</span>Эл. почта\n            </h1> <input type=\"text\" minlength=\"10\" required=\"required\"" + _vm._ssrAttr("value", _vm.email) + " class=\"forms__inputs__block-input\"></div></div> <div class=\"forms__inputs__right\"><div class=\"forms__inputs__block forms__inputs__block-checkboxes\"><div class=\"forms__inputs__block-checkbox\"><input type=\"radio\" value=\"1\" id=\"delivery-1\"" + _vm._ssrAttr("checked", _vm._q(_vm.delivery, "1")) + "> <label for=\"delivery-1\">Доставка</label></div> <div class=\"forms__inputs__block-checkbox\"><input type=\"radio\" value=\"2\" id=\"delivery-2\"" + _vm._ssrAttr("checked", _vm._q(_vm.delivery, "2")) + "> <label for=\"delivery-2\">Самовывоз</label></div></div> " + (_vm.delivery == 1 ? "<div class=\"forms__inputs__block\"><h1 class=\"forms__inputs__block-title\">Город доставки</h1> <input type=\"text\" required=\"required\"" + _vm._ssrAttr("value", _vm.deliveryCity) + " class=\"forms__inputs__block-input\"></div>" : "<!---->") + " " + (_vm.delivery == 1 ? "<div class=\"forms__inputs__block\"><h1 class=\"forms__inputs__block-title\">Адрес доставки</h1> <input type=\"text\" required=\"required\"" + _vm._ssrAttr("value", _vm.deliveryAddress) + " class=\"forms__inputs__block-input\"></div>" : "<!---->") + "</div></div> <div class=\"forms__biginput\"><h1 class=\"forms__biginput-title\">Ваше сообщение</h1> <textarea type=\"text\" class=\"forms__biginput-input\">" + _vm._ssrEscape(_vm._s(_vm.message)) + "</textarea></div></div> <div class=\"payment\"><h2 class=\"payment__title\">Выберите способ оплаты</h2> <div class=\"payment__inputs\"><div class=\"payment__input\"><input type=\"radio\" id=\"money1\" value=\"1\"" + _vm._ssrAttr("checked", _vm.payment === 1) + _vm._ssrAttr("checked", _vm._q(_vm.payment, "1")) + " class=\"payment__input-checkbox\"> <label for=\"money1\" class=\"payment__input-text\"><div class=\"payment__input-name\"><img" + _vm._ssrAttr("src", __webpack_require__(139)) + "> <p>Наличными курьеру</p></div></label></div> <div class=\"payment__input\"><input type=\"radio\" id=\"money2\" value=\"2\"" + _vm._ssrAttr("checked", _vm.payment === 2) + _vm._ssrAttr("checked", _vm._q(_vm.payment, "2")) + " class=\"payment__input-checkbox\"> <label for=\"money2\" class=\"payment__input-text\"><div class=\"payment__input-name\"><img" + _vm._ssrAttr("src", __webpack_require__(140)) + "> <p>Сейчас онлайн</p></div></label></div> <div class=\"payment__input\"><input type=\"radio\" id=\"money3\" value=\"3\"" + _vm._ssrAttr("checked", _vm.payment === 3) + _vm._ssrAttr("checked", _vm._q(_vm.payment, "3")) + " class=\"payment__input-checkbox\"> <label for=\"money3\" class=\"payment__input-text\"><div class=\"payment__input-name\"><img" + _vm._ssrAttr("src", __webpack_require__(141)) + "> <p>PayPal</p></div></label></div></div></div> <div class=\"row\"><div class=\"form__agreement\"><div class=\"input policy_block\"><input type=\"checkbox\" id=\"custom_field[address][1][]\" name=\"custom_field[address][1][]\" value=\"1\" checked=\"checked\" class=\"checkout_pub_policy\"> <label for=\"custom_field[address][1][]\" class=\"tick_label\"><div class=\"tick\"></div></label> <span class=\"policy_text\">Я согласен(-а) с\n            <a href=\"/policy\" target=\"_blank\">политикой обработки персональных данных</a></span></div></div></div> " + (!_vm.couponActive ? "<div class=\"promo\">\n      Есть промокод?\n    </div>" : "<!---->") + " <div class=\"for_promo\"><button type=\"submit\" id=\"tmdbuttonorder\" onclick=\"gtag('event', 'order', {'event_name': 'checkout'})\"" + _vm._ssrAttr("disabled", _vm.disableButton) + " class=\"btn btn-primary\">Оформить заказ</button> <span class=\"totalitazer\"><span>Итого:</span>" + _vm._ssrEscape(" " + _vm._s(_vm.finalPrice) + " р.") + "</span> " + (_vm.couponActive ? "<div class=\"form-group coupan\" style=\"display: block\"><div class=\"input-group\"><input type=\"text\" name=\"coupon\" value placeholder=\"У Вас есть промокод?\" id=\"input-coupon\" class=\"form-control\"> <span class=\"input-group-btn\"><input type=\"button\" value=\"Применить\" id=\"button-coupon\" class=\"btn btn-primary\"></span></div></div>" : "<!---->") + "</div></form>" : "<!---->"))], 2);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./pages/cart/index.vue?vue&type=template&id=3760c2aa&

// EXTERNAL MODULE: external "vue"
var external_vue_ = __webpack_require__(0);
var external_vue_default = /*#__PURE__*/__webpack_require__.n(external_vue_);

// EXTERNAL MODULE: external "vue-the-mask"
var external_vue_the_mask_ = __webpack_require__(6);

// EXTERNAL MODULE: ./components/input.vue + 4 modules
var input = __webpack_require__(12);

// EXTERNAL MODULE: external "axios"
var external_axios_ = __webpack_require__(5);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/cart/index.vue?vue&type=script&lang=js&




/* harmony default export */ var cartvue_type_script_lang_js_ = (external_vue_default.a.extend({
  layout: "default",
  components: {
    TheMask: external_vue_the_mask_["TheMask"]
  },
  data() {
    return {
      admitad_uid: "",
      procent: "",
      promo: "",
      unsorted: "",
      sorted: [],
      name: "",
      couponActive: false,
      cartItems: "",
      payment: 1,
      cartEmpty: false,
      phone: "",
      delivery: 1,
      message: "",
      isAgreed: 1,
      email: "",
      deliveryCity: "",
      deliveryAddress: "",
      finalPrice: 0,
      // totalPrice: "",
      promocodeMoney: 0,
      promocodePercent: 0,
      disableButton: false
    };
  },
  methods: {
    checkPromo() {
      //   try {
      this.$axios.post("https://project.a-lux.dev/api/promo", {
        promo: this.promo
      }).then(res => {
        if (res.status === 200) {
          if (res.data.type === "money") {
            this.promocodeMoney = res.data.value;
          } else {
            this.promocodePercent = res.data.value;
          }
        }
      })
      // }
      .catch(error => {
        if (error.response.status === 404) {
          alert("Промокода не существует");
        }
      });
    },
    sendFormData() {
      this.disableButton = true;
      this.admitad_uid = this.GetAdmitadUid('admitad_uid');
      let dataSent = [];
      let cartItems = JSON.parse(localStorage.getItem("cartItems"));
      cartItems.forEach(element => {
        console.log(element);
        while (element.ammount) {
          let el = {
            id: element.id
          };
          if (element.color) {
            el.color = element.color;
          }
          if (element.saleId) {
            el.saleId = element.saleId;
          }
          dataSent.push(el);
          element.ammount--;
        }
      });
      console.log("pay", this.payment);
      if (this.GetAdmitadUid('admitad_uid') == null) {
        this.$axios.post("https://project.a-lux.dev/api/order/create", {
          fio: this.name,
          phone: this.phone,
          email: this.email,
          message: this.message,
          promo: this.promo,
          type_payment: Number(this.payment),
          city: this.deliveryCity,
          address: this.deliveryAddress,
          delivery_type: Number(this.delivery),
          paid: "1",
          items: dataSent,
          api_token: ""
        }).then(res => {
          localStorage.setItem("cartData", JSON.stringify(res.data));
          if (this.payment !== 1) {
            location.href = res.data.Order.paymenturl;
          }
          this.disableButton = false;
        });
      } else {
        this.$axios.post("https://project.a-lux.dev/api/order/create", {
          fio: this.name,
          phone: this.phone,
          email: this.email,
          message: this.message,
          promo: this.promo,
          type_payment: Number(this.payment),
          city: this.deliveryCity,
          address: this.deliveryAddress,
          delivery_type: Number(this.delivery),
          paid: "1",
          items: dataSent,
          api_token: "",
          admitad_uid: this.admitad_uid
        }).then(res => {
          localStorage.setItem("cartData", JSON.stringify(res.data));
          if (this.payment !== 1) {
            location.href = res.data.Order.paymenturl;
          }
          this.disableButton = false;
        });
      }
      // axios.get("https://ad.admitad.com/r?campaign_code=85aed9e6f6&postback=1&postback_key=49bE6D6D6902DA87E4696A8a43ac9321&action_code=1&uid=&order_id="+this.sorted.product_id+"&price="+this.sorted.price+"&position_id=&position_count=&tariff_code=1&payment_type=sale&currency_code=&quantity=tariff_code=1")
      if (this.payment == 1) {
        this.$router.push("/cart/receipt");
      }
    },
    removeItem(a) {
      this.cartItems = JSON.parse(localStorage.getItem("cartItems"));
      this.cartItems.splice(a, 1);
      this.sorted.splice(a, 1);
      localStorage.setItem("cartItems", JSON.stringify(this.cartItems));
      if (this.cartItems.length === 0) {
        this.cartEmpty = true;
      }
    },
    ammMinus(a, b) {
      this.cartItems = JSON.parse(localStorage.getItem("cartItems"));
      this.cartItems[b].ammount--;
      if (this.cartItems[b].ammount > 0) {
        localStorage.setItem("cartItems", JSON.stringify(this.cartItems));
        this.sorted[b].ammount = this.cartItems[b].ammount;
      } else {
        this.cartItems.splice(b, 1);
        this.sorted.splice(b, 1);
        localStorage.setItem("cartItems", JSON.stringify(this.cartItems));
        if (this.cartItems.length === 0) {
          this.cartEmpty = true;
        }
      }
    },
    ammPlus(a, b) {
      this.cartItems = JSON.parse(localStorage.getItem("cartItems"));
      this.cartItems[b].ammount++;
      this.sorted[b].ammount++;
      localStorage.setItem("cartItems", JSON.stringify(this.cartItems));
    },
    GetAdmitadUid(name) {
      var name_cook = name + "=";
      var spl = document.cookie.split(";");
      for (var i = 0; i < spl.length; i++) {
        var c = spl[i];
        while (c.charAt(0) == " ") {
          c = c.substring(1, c.length);
        }
        if (c.indexOf(name_cook) == 0) {
          return c.substring(name_cook.length, c.length);
        }
      }
      return null;
    }
  },
  mounted() {
    this.$axios.get("https://project.a-lux.dev/api/sale").then(res => {
      this.procent = res.data[0].procent;
    });
    let cartItems = JSON.parse(localStorage.getItem("cartItems"));
    if (cartItems && cartItems.length != 0) {
      this.$axios.post("https://project.a-lux.dev/api/items", {}).then(res => {
        this.unsorted = res.data;
        let cartItems = JSON.parse(localStorage.getItem("cartItems"));
        let cartId = [];
        let cartColorId = [];
        cartItems.forEach(element => {
          cartId.push(element.id);
          cartColorId.push(element.colorId);
        });
        cartId.forEach((element, index) => {
          let unsortedVariable = this.unsorted.find(obj => {
            return obj.id === element;
          });
          let cartAmmount = Number(cartItems[index].ammount);
          let cartColor = cartItems[index].color;
          let cartColorName = cartItems[index].colorName;
          let productProcent = cartItems[index].procent || null;
          let productPrice = cartItems[index].price || null;
          let is_special = cartItems[index].is_special;
          let productName = cartItems[index].name;
          // let cartColorPrice = '';
          // sorted.forEach((e) => {

          // })
          // let totalPrice = discount;
          let a = Object.assign({}, unsortedVariable, {
            ammount: cartAmmount,
            selectedColor: cartColor,
            selectedColorName: cartColorName,
            procent: productProcent,
            price: productPrice,
            spechial: is_special,
            name: productName
            // totalPrice: totalPrice,
          });

          this.sorted.push(a);
          // let discount = [];

          this.sorted.forEach(e => {
            // e.discount = (e.price / 100) * this.procent;
            if (e.colorDiscount) {
              e.colorDiscount = e.colors.find(c => c.id === e.selectedColor).price / 100 * this.procent;
            }

            // discount.push((e.price / 100) * this.procent);
          });
        });
      });

      setInterval(() => {
        this.finalPrice = 0;
        this.sorted.forEach(element => {
          if (element.procent && element.spechial == null) {
            if (!element.colorDiscount) {
              this.finalPrice += Number(element.price - element.price / element.procent) * Number(element.ammount);
            } else {
              element.colors.forEach(color => {
                if (color.price && element.colorDiscount && color.id === element.selectedColor) {
                  this.finalPrice += (color.price - element.colorDiscount) * element.ammount;
                }
              });
            }
          } else if (element.spechial == 1 && !element.selectedColor) {
            this.finalPrice += element.price * element.ammount;
          } else {
            this.finalPrice += Number(element.colors[element.colors.indexOf(element.colors.find(obj => {
              return obj.id === element.selectedColor;
            }))].price - element.colorDiscount) * Number(element.ammount) || element.discount * element.ammount || element.price * element.ammount;
          }
        });
        if (this.promocodeMoney > 0) {
          this.finalPrice = this.finalPrice - this.promocodeMoney;
        }
        if (this.promocodePercent > 0) {
          this.finalPrice = this.finalPrice - this.finalPrice / this.promocodePercent;
        }
      }, 1500);
    } else {
      this.cartEmpty = true;
    }
  },
  watch: {
    phone(n, old) {
      if (n == 8) {
        this.phone = '7';
      }
      if (n == 9) {
        this.phone = '79';
      }
    }
  }
}));
// CONCATENATED MODULE: ./pages/cart/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_cartvue_type_script_lang_js_ = (cartvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/cart/index.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(142)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  pages_cartvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  null,
  "41a645bd"
  
)

/* harmony default export */ var cart = __webpack_exports__["default"] = (component.exports);

/* nuxt-component-imports */
installComponents(component, {Input: __webpack_require__(12).default})


/***/ })

};;
//# sourceMappingURL=index.js.map